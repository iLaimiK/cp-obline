import{q as a,c as e,b as s,o as t,a as l,w as i,d as n,e as u,f as o,g as c,F as r,z as d,a5 as p,i as f,h as _,j as m,l as v,J as g,t as h}from"./index-BC-67zmo.js";import{_ as k}from"./uni-icons.BOY_Jubr.js";import{a as y,r as j}from"./uni-app.es.9K6jfBy6.js";import{_ as x,a as b}from"./uni-swipe-action.D4LF39IZ.js";import{_ as C}from"./scroll-page.BUfSIwsu.js";import{b as w,c as $}from"./patient.3w2HBNYz.js";import{u as z}from"./consult.BUbne6UZ.js";import{_ as A}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./http.Cf7yvREa.js";const D=A({__name:"index",setup(A){const D=z(),F=a([{text:"删除",style:{backgroundColor:"#dd524d"}}]),I=a(!1),q=a([]);const E=a(0);const G=e((()=>{var a;return null==(a=q.value[E.value])?void 0:a.id}));function J(){D.selectData.patientId=G.value,p({url:"/subpkg_consult/payment/index"})}return y((()=>{!async function(){const a=await w();if(1e4!==a.code)return uni.utils.toast(a.message);q.value=a.data,I.value=!0}()})),(a,e)=>{const p=f,y=_,w=j(s("uni-icons"),k),z=m,A=j(s("uni-swipe-action-item"),x),D=j(s("uni-swipe-action"),b),G=v,V=j(s("scroll-page"),C);return t(),l(V,null,{default:i((()=>[I.value?(t(),l(p,{key:0,class:"patient-page"},{default:i((()=>[n(p,{class:"page-header"},{default:i((()=>[n(p,{class:"patient-title"},{default:i((()=>[u(" 请选择患者信息 ")])),_:1}),n(p,{class:"patient-tips"},{default:i((()=>[u(" 以便医生给出更准确的治疗，信息仅医生可见 ")])),_:1})])),_:1}),n(D,null,{default:i((()=>[(t(!0),o(r,null,c(q.value,((a,e)=>(t(),l(A,{key:a.id,"right-options":F.value,onClick:s=>(async(a,e)=>{const s=await $(a);if(1e4!==s.code)return uni.utils.toast(s.message);q.value.splice(e,1)})(a.id,e)},{default:i((()=>[n(p,{onClick:a=>function(a){E.value=a}(e),class:g([{active:e===E.value},"archive-card"])},{default:i((()=>[n(p,{class:"archive-info"},{default:i((()=>[n(y,{class:"name"},{default:i((()=>[u(h(a.name),1)])),_:2},1024),n(y,{class:"id-card"},{default:i((()=>[u(h(a.idCard.replace(/^(.{6}).+(.{4})$/,"$1**********$2")),1)])),_:2},1024),1===a.defaultFlag?(t(),l(y,{key:0,class:"default"},{default:i((()=>[u("默认")])),_:1})):d("",!0)])),_:2},1024),n(p,{class:"archive-info"},{default:i((()=>[n(y,{class:"gender"},{default:i((()=>[u(h(a.genderValue),1)])),_:2},1024),n(y,{class:"age"},{default:i((()=>[u(h(a.age)+"岁",1)])),_:2},1024)])),_:2},1024),n(z,{"hover-class":"none",class:"edit-link",url:`/subpkg_archive/form/index?id=${a.id}`},{default:i((()=>[n(w,{type:"icon-edit",size:"20",color:"#16C2A3","custom-prefix":"iconfont"})])),_:2},1032,["url"])])),_:2},1032,["onClick","class"])])),_:2},1032,["right-options","onClick"])))),128))])),_:1}),q.value.length<6?(t(),l(p,{key:0,class:"archive-card"},{default:i((()=>[n(z,{class:"add-link","hover-class":"none",url:"/subpkg_archive/form/index"},{default:i((()=>[n(w,{color:"#16C2A3",size:"24",type:"plusempty"}),n(y,{class:"label"},{default:i((()=>[u("添加患者")])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})):d("",!0),n(p,{class:"next-step"},{default:i((()=>[n(G,{class:"uni-button",onClick:J},{default:i((()=>[u(" 下一步 ")])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-b5ec4f50"]]);export{D as default};

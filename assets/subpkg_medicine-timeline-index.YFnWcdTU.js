import{B as a,q as t,m as e,ab as l,b as s,o as i,a as u,w as n,W as c,i as o,d as g,e as d,t as A,n as k,u as J,f as m,g as p,F as I,P as S,ac as C,ad as B,ae as Q,z as r}from"./index-BC-67zmo.js";import{_ as w}from"./uni-icons.BOY_Jubr.js";import{r as f}from"./uni-app.es.9K6jfBy6.js";import{l as h}from"./medcine.BSw5PTzs.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./http.Cf7yvREa.js";const v=a("map",(()=>({mapData:t([])})),{persist:{paths:["mapData"]}}),E=D({__name:"index",props:{id:{type:String,default:""}},setup(a){const D=v(),E=t(D.mapData||[]),R=a,K=t({}),P=t([]),T=t([]),Y=t({}),Z=t({}),U=t({});function N(){S({delta:1})}function G(){c.callFunction({name:"qq-map",data:{from:Object.values(Z.value).join(","),to:Object.values(U.value).join(",")},success:a=>{console.log(a);const t=a.result.result.routes[0].polyline,e=[];for(let s=2;s<t.length;s++)t[s]=t[s-2]+t[s]/1e6;for(let s=0;s<t.length;s+=2)e.push({latitude:t[s],longitude:t[s+1]});E.value=e,D.mapData=e;const l=e[Math.floor(e.length/2)];Y.value=l,T.value.push({id:3,latitude:l.latitude,longitude:l.longitude,iconPath:"/static/images/car.png",width:35,height:35}),P.value.push({points:e,color:"#16c2a3",width:5})},fail:a=>{console.log(a)}})}return e((async()=>{if(await async function(){const a=await h(R.id);if(1e4!==a.code)return uni.utils.toast(a.message);K.value=a.data,Z.value=a.data.logisticsInfo[0],U.value=a.data.logisticsInfo[a.data.logisticsInfo.length-1],T.value=[{id:1,latitude:Z.value.latitude,longitude:Z.value.longitude,iconPath:"/static/images/start.png",width:25,height:30},{id:2,latitude:U.value.latitude,longitude:U.value.longitude,iconPath:"/static/images/end.png",width:25,height:30}]}(),D.mapData.length){const a=E.value[Math.floor(E.value.length/2)];Y.value=a,T.value.push({id:3,latitude:a.latitude,longitude:a.longitude,iconPath:"/static/images/car.png",width:35,height:35}),P.value.push({points:E.value,color:"#16c2a3",width:5})}else G();setInterval((()=>{G()}),6e5)})),l((()=>{D.mapData=[]})),(a,t)=>{const e=C,l=B,c=Q,S=o,h=f(s("uni-icons"),w);return i(),u(S,{class:"timeline-page"},{default:n((()=>[g(e,{markers:T.value,polyline:P.value,latitude:Y.value.latitude,longitude:Y.value.longitude,class:"uni-map"},null,8,["markers","polyline","latitude","longitude"]),g(c,{style:k({paddingTop:J(0)}),class:"navigator-bar"},{default:n((()=>[g(c,{onClick:N,class:"icon-back"},{default:n((()=>[g(l,{src:"data:image/png;base64,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"})])),_:1}),g(c,{class:"title"},{default:n((()=>[d(A(K.value.statusValue),1)])),_:1})])),_:1},8,["style"]),g(c,{class:"timeline-meta"},{default:n((()=>[g(c,{class:"status"},{default:n((()=>[d("订单派送中")])),_:1}),g(c,{class:"extra"},{default:n((()=>[d(" 预计"+A(K.value.estimatedTime)+"送达 "+A(K.value.name)+" "+A(K.value.awbNo),1)])),_:1})])),_:1}),g(S,{class:"timeline-detail"},{default:n((()=>[g(S,{class:"title"},{default:n((()=>[d("物流详情")])),_:1}),g(S,{class:"timeline"},{default:n((()=>[g(S,{class:"line"},{default:n((()=>[g(S,{class:"badge text"},{default:n((()=>[d("收")])),_:1}),g(S,{class:"content"},{default:n((()=>[d(" 收货地址：广东省广州市大华区明离路科技园880号 ")])),_:1})])),_:1}),(i(!0),m(I,null,p(K.value.list,((a,t)=>(i(),u(S,{key:a.id,class:"line"},{default:n((()=>[a.status<=3?(i(),u(S,{key:0,class:"badge dot"})):r("",!0),4===a.status?(i(),u(S,{key:1,class:"badge icon"},{default:n((()=>[g(h,{color:"#2cb5a5","custom-prefix":"iconfont",type:"icon-truck"})])),_:1})):r("",!0),5===a.status?(i(),u(S,{key:2,class:"badge icon"},{default:n((()=>[g(h,{"custom-prefix":"iconfont",color:"#2cb5a5",size:"15",type:"icon-checked"})])),_:1})):r("",!0),g(S,{class:"label"},{default:n((()=>[d(A(a.statusValue),1)])),_:2},1024),g(S,{class:"content"},{default:n((()=>[d(A(a.content),1)])),_:2},1024),g(S,{class:"time"},{default:n((()=>[d(A(a.createTime),1)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})}}},[["__scopeId","data-v-69d14896"]]);export{E as default};
